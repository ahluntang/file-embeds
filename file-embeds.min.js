/*!
 * file-embeds - v0.0.1 - 2014-02-12 
 * Copyright (c) 2014 Ah-Lun Tang <tang@ahlun.be>
 * 
 * License: The MIT License (MIT) -  http://ahluntang.mit-license.org/
 */

!function(){self.document&&document.querySelector&&Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(pre){var src=pre.getAttribute("data-src"),code=document.createElement("code");pre.textContent="",code.textContent="Loading...",pre.appendChild(code);var xhr=new XMLHttpRequest,is_github=/https:\/\/github.com\//i.test(src);if(is_github){var match=src.match(/https:\/\/github.com\/([^\/]+)\/([^\/]+)\/([^\/]+)\/([^\/]+)\/([\s\S]+)/),github={user:match[1],repo:match[2],path:match[5]};src="https://api.github.com/repos/"+github.user+"/"+github.repo+"/contents/"+github.path}xhr.open("GET",src,!0),is_github&&xhr.setRequestHeader("Accept","application/vnd.github.v3.raw"),xhr.onreadystatechange=function(){4==xhr.readyState&&(code.textContent=xhr.status<400&&xhr.responseText?xhr.responseText:xhr.status>=400?" Error "+xhr.status+" while fetching file: "+xhr.statusText:" Error: File does not exist or is empty")},xhr.send(null)})}();